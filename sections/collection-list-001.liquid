{%- comment -%}
  collection-lists.liquid
  Custom Shopify Liquid section for a horizontal, swipable collection list with clickable collections displayed in round shapes.
{%- endcomment -%}

{%- assign visible_collections_desktop = section.settings.visible_collections_desktop | default: 4 -%}
{%- assign visible_collections_mobile = section.settings.visible_collections_mobile | default: 2 -%}

{%- if section.blocks.size > 0 -%}
  <div class="collection-lists-wrapper">
    <div class="collection-lists">
      <ul class="collection-lists__list">
        {%- for block in section.blocks limit: visible_collections_desktop -%}
          <li class="collection-lists__item">
            <a href="{{ block.settings.collection.url }}" class="collection-lists__link">
              <img src="{{ block.settings.collection.image.src | img_url: 'medium' }}" alt="{{ block.settings.collection.title }}" class="collection-lists__image">
              <span class="collection-lists__title">{{ block.settings.collection.title }}</span>
            </a>
          </li>
        {%- endfor -%}
      </ul>
    </div>
  </div>
{%- endif -%}

{%- schema -%}
{
  "name": "Collection Lists",
  "class": "index-section index-section--flush",
  "settings": [
    {
      "type": "range",
      "id": "visible_collections_desktop",
      "label": "Visible Collections (Desktop)",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "visible_collections_mobile",
      "label": "Visible Collections (Mobile)",
      "min": 1,
      "max": 4,
      "step": 1,
      "default": 2
    }
  ],
  "presets": [{
    "name": "Collection Lists",
    "category": "Custom"
  }],
  "blocks": [
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ]
}
{%- endschema -%}

<style>
/* Add CSS styles for the collection-lists section */ 
.collection-lists-wrapper { 
  overflow-x: auto; 
} 

.collection-lists { 
  display: flex; 
} 

.collection-lists__list { 
  list-style: none; 
  margin: 0; 
  padding: 0; 
  display: flex; 
} 

.collection-lists__item { 
  flex: 0 0 auto; 
  margin-right: 20px; 
} 

.collection-lists__link { 
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  text-align: center; 
  text-decoration: none; 
  color: #333; 
} 

.collection-lists__image { 
  width: 100px; 
  height: 100px; 
  border-radius: 50%; 
  margin-bottom: 10px; 
} 

.collection-lists__title { 
  font-size: 14px; 
}
</style>
